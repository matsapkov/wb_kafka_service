# WB L0: Сервис обработки заказов (Kafka + PostgreSQL + In-Memory Cache)

**WB L0** — это учебный микросервис на Go, разработанный для демонстрации работы с брокером сообщений Apache Kafka, реляционной базой данных PostgreSQL и in-memory кэшированием. Сервис получает данные о заказах из Kafka, сохраняет их в БД и кэширует в памяти для обеспечения быстрого доступа через HTTP API.

## Функциональные требования

Проект реализован в соответствии со следующим техническим заданием:

1.  **База данных (PostgreSQL):**
    *   Развертывание локального инстанса БД.
    *   Создание схемы и таблиц для хранения данных заказа (доставка, оплата, товары).
2.  **Сервис (Go-приложение):**
    *   **Подписка на Kafka:** Чтение сообщений из указанного топика (JSON-объекты заказов).
    *   **Валидация и сохранение:** Парсинг входящих данных, обработка ошибок (логирование некорректных сообщений) и атомарная запись в БД с использованием транзакций.
    *   **In-Memory кэш:** Хранение полученных заказов в памяти (структура `map`/`sync.Map`) для быстрого доступа.
    *   **Восстановление кэша:** При старте сервис автоматически заполняет кэш последними актуальными данными из базы данных.
    *   **Обработка сбоев:** Обеспечение целостности данных с помощью транзакций БД и подтверждений (commit) сообщений от Kafka.
3.  **Веб-сервер и API:**
    *   **HTTP-эндпоинт:** `GET /order/{order_uid}` — возвращает JSON с данными заказа.
    *   **Приоритизация данных:** Поиск заказа сначала в кэше, при отсутствии — в БД.
4.  **Пользовательский интерфейс:**
    *   Простая HTML-страница с полем ввода ID заказа и кнопкой.
    *   Отображение информации о заказе после успешного ответа от API.

